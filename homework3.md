3.1 BIOS

* BIOS从磁盘读入的第一个扇区是是什么内容？为什么没有直接读入操作系统内核映像？
    * BIOS从磁盘读入的第一个扇区内容为MBR，用于加载操作系统内核镜像。
    * 由于不同操作系统内核使用的文件系统不同，直接用BIOS加载会产生困难，所以约定MBR的开头可以兼容，后面部分加载实际OS，这样就可以做到兼容各种操作系统。
* 比较UEFI和BIOS的区别。
    * UEFI需要独立分区，将启动文件与其他文件分隔，更安全；
    * UEFI可以自定义启动文件，而BIOS默认读入开始的一个扇区，UEFI更灵活；
    * UEFI可以引导超过2TB的磁盘，而BIOS由于MBR的限制无法做到这一点；
    * UEFI可定制性更强，甚至可以实现图形界面，比BIOS更先进、易于操作。

3.2 系统启动流程

* 分区引导扇区的结束标志是什么？
    * 0x55, 0xAA
* 在UEFI中的可信启动有什么作用？
    * 通过验证安全证书，保证启动时使用的固件的安全性。

3.3 中断、异常和系统调用比较

* 什么是中断、异常和系统调用？
    * 中断：对外设的响应；
    * 异常：对指令发生的错误与意外的响应；
    * 系统调用：对应用程序请求系统提供服务的响应。
* 中断、异常和系统调用的处理流程有什么异同？
    * 中断：由外设产生，异步处理，系统进入内核态后等待中断处理结束，过程对用户透明；
    * 异常：由指令发生的错误与意外产生，同步处理，系统进入内核态后杀死相关错误程序；
    * 系统调用：由应用程序请求系统提供服务产生，同步或异步处理，系统进入内核态后提供相关服务后返回用户态。
* 以ucore lab8的answer为例，uCore的系统调用有哪些？大致的功能分类有哪些？
    * 进程管理：exit, fork, wait, exec, yield, kill, getpid, sleep, set_priority
    * 外设管理：putc, gettime
    * 文件管理：open, close, read, write, seek, fstat, fsync, getcwd, getgetdirentry, dup
    * 内存管理：pgdir
    * 共22个

3.4 linux系统调用分析

* 通过分析lab1_ex0了解Linux应用的系统调用编写和含义。(仅实践，不用回答)
* 通过调试lab1_ex1了解Linux应用的系统调用执行过程。(仅实践，不用回答)

3.5 ucore系统调用分析 （扩展练习，可选）

* 基于实验八的代码分析ucore的系统调用实现，说明指定系统调用的参数和返回值的传递方式和存放位置信息，以及内核中的系统调用功能实现函数。
* 以ucore lab8的answer为例，分析ucore 应用的系统调用编写和含义。
* 以ucore lab8的answer为例，尝试修改并运行ucore OS kernel代码，使其具有类似Linux应用工具strace的功能，即能够显示出应用程序发出的系统调用，从而可以分析ucore应用的系统调用执行过程。

3.6 请分析函数调用和系统调用的区别

* 系统调用与函数调用的区别是什么？
    * 指令不同：系统调用使用int和iret，函数调用使用call和ret；
    * 特权级不同：系统调用在内核态ring0，函数调用在用户态ring3；
    * 堆栈不同：分别使用内核态和用户态的堆栈。
* 通过分析int、iret、call和ret的指令准确功能和调用代码，比较函数调用与系统调用的堆栈操作有什么不同？
    * call=push eip,jmp；ret=pop eip,add sp 4;
    * int则需要将中断类型号、标志寄存器入栈，再将cs、ip入栈，最后切换ip与cs；
    * 同理，iret会依次恢复ip、cs、标志寄存器、esp、ss。
    * call和ret不会引起堆栈切换，而int和iret则会在系统堆栈和用户堆栈间切换。
